# 7.1 Définition et Implémentation

## Définition du monceau

Un **monceau (heap)** est un **arbre binaire complet** avec la propriété de monceau :
- **Min-monceau** : La clé du parent ≤ clés des enfants
- **Max-monceau** : La clé du parent ≥ clés des enfants

```
Min-monceau :       Max-monceau :
       1                  9
      / \                / \
     2   3              8   7
    / \ / \            / \ / \
   4  5 6  7          6  5 4  3
```

**Propriété :** Tous les niveaux sont complètement remplis sauf possiblement le dernier (rempli de gauche à droite).

## Implémentation par tableau

Les monceaux sont souvent implémentés avec un **tableau** (plus efficace qu'une structure pointeur).

### Indexation

Avec racine à l'index **1** (index 0 inutilisé) :
- **Parent du nœud i** : i / 2
- **Enfant gauche du nœud i** : 2i
- **Enfant droit du nœud i** : 2i + 1

```
Array :   [-, 1, 2, 3, 4, 5, 6, 7]
Index :    0  1  2  3  4  5  6  7

Arbre :
       1 (index 1)
      / \
     2   3  (index 2, 3)
    / \ / \
   4  5 6  7 (index 4, 5, 6, 7)
```

### Implémentation

```java
public class MinHeap {
    private int[] heap;
    private int size;
    
    public MinHeap(int capacity) {
        heap = new int[capacity + 1];
        size = 0;
    }
    
    private int parent(int i) { return i / 2; }
    private int left(int i) { return 2 * i; }
    private int right(int i) { return 2 * i + 1; }
    
    private void swap(int i, int j) {
        int temp = heap[i];
        heap[i] = heap[j];
        heap[j] = temp;
    }
    
    public int getMin() {
        if (size == 0) throw new IllegalStateException("Heap vide");
        return heap[1];  // Racine en index 1
    }
}
```

## Recherche du plus petit élément

Un **min-monceau** permet de trouver le plus petit élément en **O(1)**.

```java
public int getMin() {
    return heap[1];  // Complexité O(1) !
}
```

C'est l'un des avantages clés des monceaux.

---

**[↑ Retour à la section 7](README.md)** | **[← Retour à l'index](../INDEX.md)**
